\subsection{Compilation}
La compilation du programme s'effectue en ligne de commande à l'aide
de l'outil Maven (\url{https://maven.apache.org/}). Dans la racine
du projet (où se trouve le fichier \texttt{pom.xml}),
via la ligne de commande, l'instruction
\begin{center}
  \texttt{
    mvn install
  }
\end{center}
compile le projet et les tests unitaires, exécute les tests unitaires
et génère trois fichiers au format \emph{.jar} dans le répertoire
\texttt{target}:
\begin{itemize}
\item le programme avec interface graphique correspond au fichier
  \\ \texttt{BSPPainter-TestGraphique-1.0.jar};
\item le programme en ligne de commande correspond au fichier
  \\ \texttt{BSPPainter-TestConsole-jar-with-dependencies.jar};
\item la javadoc du projet est générée dans l'archive (non exécutable)
  \\ \texttt{BSPPainter-TestGraphique-1.0-javadoc.jar}.
\end{itemize}

\subsection{Programme en console}
Le programme en console s'exécute avec la commande :
\begin{center}
  \texttt{
    java -jar BSPPainter-TestConsole-jar-with-dependencies.jar nomdufichier
  }
\end{center}

Si le fichier n'est pas trouvable ou n'existe pas, le programme
s'arrêtera après avoir déclenché une \texttt{IOException}.
Le fichier soumis doit être au format spécifique des scènes.
Dans le cas contraire, le programme lancera une \texttt{FileFormatException}
et se coupera.

Le programme effectue une partie des calculs au démarrage.
Quelques secondes peuvent donc s'écouler avant le moindre affichage
si le fichier est conséquent.

Le premier panneau d'affichage demande d'entrer un
nombre entre $1$ et $5$. Pour chaque valeur, le programme
spécifie les informations affichées.
La console bouclera sur ce panneau tant que
l'entrée de l'utilisateur n'est pas un nombre
compris entre $1$ et $5$.

Si l'utilisateur choisit d'afficher les performances de l'algorithme
du peintre, un nouveau menu s'affichera demandant à l'utilisateur
d'entrer les positions de l'oeil. Le format est précisé
dans le menu et est le suivant :
\begin{itemize}
\item En premier, la coordonnée $x$ de l'oeil en nombre
  flottant suivie du caractère \og;\fg{}.
\item Deuxièmement, la coordonnée $y$ de l'oeil en
  nombre flottant suivie du caractère \og;\fg.
\item Finalement, l'angle qui correspond à la direction
  de l'oeil tel que décrit dans la section \ref{not:oeil}.
\end{itemize}
Un exemple d'entrée valide est:
\begin{center}
  \texttt{
    100.45;235.5;2.57
  }
\end{center}

Si l'entrée contient trop de caractères séparés par des points-virgules,
l'entrée sera rejetée. Il en va de même si l'une des 3 valeurs fournies
n'est pas un nombre.
Le programme affichera alors les informations souhaitées.

Après cet affichage, le programme propose deux options numérotées par
$0$ et $1$: $0$ ferme le programme tandis que $1$ affiche à nouveau
le premier menu.

\subsection{Interface graphique utilisateur}
\subsubsection*{\'Exécution du programme}
Le programme en interface graphique est exécuté, via la ligne de commande,
à l'aide de la commande:
\begin{center}
  \texttt{
    java -jar BSPPainter-TestGraphique-1.0.jar
  }.
\end{center}
\subsubsection*{Description des boutons}
Plusieurs boutons et informations sont affichés sur le côté gauche de
la fenêtre. Une brève description de chaque bouton est donnée ci-dessous.
\begin{itemize}
\item Le bouton \emph{Sélectionner un fichier} ouvre une fenêtre utilisée
  pour sélectionner un fichier représentant une scène, qui sera affichée
  directement si elle est valide, en plus d'une bordure noire indiquant
  la zone dans laquelle est contraint de rester l\oe{}il.
\item Un menu déroulant permettant de choisir parmi les heuristiques
  de construction d'arbre BSP disponibles.
\item Le bouton \emph{Construire l'arbre} construit, sur base du fichier
  chargé et de l'heuristique sélectionnée, un arbre BSP.
  Si une de ces informations n'est pas spécifiée, un message d'erreur s'affiche.
  Appuyer de nouveau sur le bouton après la construction d'un premier arbre
  remplace l'arbre courant par un nouveau.

  En-dessous de ce bouton se trouve un message indiquant si  un arbre BSP a été
  construit ou non.
\item L'option suivante \emph{Déplacer l'\oe{}il} permet de sélectionner
  la position de l'oeil. Pour des raisons d'affichages, les coordonnées de
  l'\oe{}il sont restreintes. Les coordonnées et l'angle courants de
  l'\oe{}il sont spécifiés sous le bouton. Après déplacement, si un arbre
  BSP existe, la vue de l'\oe{}il est automatiquement affichée dans la région
  en bas à droite de la fenêtre.
\item Plus bas, un bouton \emph{configurer l'\oe{}il} permet de régler la
  taille d'un pas en mode interactif (voir ci-après). Le status du mode
  interactif (actif ou non) est indiqué en dessous du bouton; si
  le mode interactif est inactif, le bouton n'est pas utilisable.
\end{itemize}
\subsubsection*{Mode interactif}
Pour les fichiers de taille moindre, il est possible de déplacer
l'\oe{}il à l'aide de certaines touches du clavier. Les
touches actives sont les suivantes:
\begin{itemize}
\item \texttt{A}: tourne l'\oe{}il de $0.01$ radians vers la gauche;
\item \texttt{E}: tourne l'\oe{}il de $0.01$ radians vers la droite;
\item \texttt{Z}: déplace l'\oe{}il d'un pas vers le haut;
\item \texttt{Q}: déplace l'\oe{}il d'un pas vers le gauche;
\item \texttt{S}: déplace l'\oe{}il d'un pas vers le bas;
\item \texttt{D}: déplace l'\oe{}il d'un pas vers le droite.
\end{itemize}
La taille d'un pas est à spécifier via le bouton \emph{configurer l'\oe{}il}.
%%%Local Variables:
%%% mode: latex
%%% TeX-master: "../rapportGp1"
%%% End:
